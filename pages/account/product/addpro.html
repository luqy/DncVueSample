<!DOCTYPE html>

<html>

<head>
  <meta name="viewport" content="width=device-width" />
  <title>添加产品</title>
  <link rel="stylesheet" type="text/css" href="../../../assets/iview/iview-3.1.0/styles/iview.css" />
  <script src="../../../assets/vue/vue-2.5.17.min.js"></script>
  <script src="../../../assets/iview/iview-3.1.0/iview.min.js"></script>
  <script src="../../../assets/axios/axios.js"></script>
  <script src="../../../js/config.js"></script>
</head>

<body>
<div id="app">
    <div class="form" style="height: 600px">
      <i-form ref:form-validate :model="formValidate" :rules="ruleValidate" :label-width="80">
        <Form-item label="产品名称" prop="pdt_name">
          <i-input v-model="formValidate.pdt_name" placeholder="请输入产品名称"></i-input>
        </Form-item>
        <Form-item label="产品版本" prop="version">
          <i-input v-model="formValidate.version" placeholder="请输入产品版本"></i-input>
        </Form-item>
        <Form-item label="产品地址" prop="host">
          <i-input v-model="formValidate.host" placeholder="请输入产品地址"></i-input>
        </Form-item>
        <Form-item label="产品描述" prop="description">
          <i-input v-model="formValidate.description" placeholder="请输入产品版本"></i-input>
        </Form-item>
        <Form-item label="文件上传">
          <i-input type="file" class="file" @change="tirggerFile($event)"></i-input>
        </Form-item>
        <Form-item label="api_json" prop="api_json">
          <i-Input v-model="formValidate.api_json" type="textarea" :autosize="{minRows: 2,maxRows: 2}" placeholder="Enter something..."></i-Input>
        </Form-item>
        <Form-item>
          <i-button type="primary" @click.native="handleSubmit('formValidate')">提交</i-button>
          <i-button  @click.native="handleReset('formValidate')" style="margin-left: 8px">重置</i-button>
        </Form-item>
      </i-form>
      <Card>
        <div style="height: 600px">
          <i-Form ref="formValidate" :model="formValidate" :rules="ruleValidate" :label-width="80">
            <Form-Item label="产品名称" prop="pdt_name">
              <i-Input v-model="formValidate.pdt_name" placeholder="Enter your pdt_name"></i-Input>
            </Form-Item>
            <FormItem label="产品版本" prop="version">
              <i-Input v-model="formValidate.version" placeholder="Enter your version"></i-Input>
            </FormItem>
            <FormItem label="产品地址" prop="host">
              <Input v-model="formValidate.host" placeholder="Enter your host"></Input>
            </FormItem>
            <FormItem label="产品描述" prop="description">
              <Input v-model="formValidate.description" type="textarea" :autosize="{minRows: 2,maxRows: 2}" placeholder="Enter something..."></Input>
            </FormItem>
            <FormItem label="文件上传" >
              <input type="file" class="file" @change="tirggerFile($event)">
            </FormItem>
            <FormItem label="api_json" prop="description">
              <Input v-model="formValidate.api_json" type="textarea" :autosize="{minRows: 2,maxRows: 2}" placeholder="Enter something..."></Input>
            </FormItem>
            <FormItem label="api_json2" prop="description">
              <Input v-model="formValidate.api_json2" type="textarea" placeholder="Enter something..."></Input>
            </FormItem>
            <FormItem>
              <Button type="primary" @click="handleSubmit('formValidate')">Submit</Button>
              <Button @click="handleReset('formValidate')" style="margin-left: 8px">Reset</Button>
            </FormItem>
          </i-Form>
        </div>
      </Card>

    </div>

</div>
<script type="text/javascript">
  var vm = new Vue({
    el: "#app",
    data() {
      return {
        formValidate: {
          pdt_name: '',
          version: '',
          host: '',
          description: '',
          api_json: '',
          desc:''
        },
        ruleValidate: {
          pdt_name: [{
            required: true,
            message: '产品名称不能为空',
            trigger: 'blur'
          }],
          version: [{
            required: true,
            message: '产品版本不能为空',
            trigger: 'blur'
          }],
          host: [{
            required: true,
            message: '产品地址不能为空',
            trigger: 'blur'
          }],
          description: [{
            required: false,
            message: '产品不能为空',
            trigger: 'blur'
          }],
          api_json: [{
            required: true,
            message: 'api_json不能为空',
            trigger: 'blur'
          }],
        }
      }
    },
    methods: {
      handleSubmit(name) {
//                    this.$Message.success('这是一条成功的提示');
        this.$Modal.success({
          title: '添加成功',
          content: '添加成功'
        });
//              this.formValidate.name = ''
//              this.formValidate.mail = ''
//              this.formValidate.city = ''
//              this.formValidate.gender = ''
//              this.formValidate.interest = []
//              this.formValidate.date = ''
//              this.formValidate.time = ''
//              this.formValidate.desc = ''
      },
      handleReset(name) {
        this.$Message.warning('这是一条警告的提示');
        this.formValidate.name = ''
        this.formValidate.mail = ''
        this.formValidate.city = ''
        this.formValidate.gender = ''
        this.formValidate.interest = []
        this.formValidate.date = ''
        this.formValidate.time = ''
        this.formValidate.desc = ''
        s                }
    }

  });
</script>
</body>

</html>
